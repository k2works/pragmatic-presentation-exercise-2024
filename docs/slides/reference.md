# 戦略的設計の３つの基本原則（コンテキスト、蒸留、大規模な構造）

## コンテキスト

> コンテキストはこれらの原則の中で最もわかりにくいものだが、実は最も根本的なものである。
>
> エリック・エバンスのドメイン駆動設計

> 理想的な世界なら、エンタープライズの全ドメインに広がる１つだけのモデルが手に入るかもしない。このモデルは統一されていて、用語の定期に矛盾も重複もなく、ドメインに関するあらゆる論理的な声明が一貫していることだろう。
> しかし、巨大なシステム開発の世界は理想と違う。エンタープライズシステム全体で、そのレベルの統一を維持するには苦労が多いが、その割に得られるものはすくない。
>
> エリック・エバンスのドメイン駆動設計

> 巨大なシステム向けのドメインモデルを完全に統一することは、現実的ではないし、コストにも見合わない。
>
> エリック・エバンスのドメイン駆動設計

> エンタープライズ全体のための統一モデルを維持するのが現実的ではないとしても、我々にできることがないわけではない。何を統一すべきかについての前向きな意思決定と、何を統一しないでおくかについての現実に即した認識を組み合わせることで、置かれている状況に関する明確な全体像を共有できる。この全体像があれば、確実に統一したい部分を統一する方向に向けつつ、統一しない部分のせいで混乱や破損が生じないようにすることに着手できる。
> さまざまなモデル間の境界と関係性をはっきりさせる方法が必要である。戦略を意識的に選択し、その後は、一貫してその戦略に従わなければならない。
>
> エリック・エバンスのドメイン駆動設計

> すべてはプロジェクトの現在の領域をマッピングするところから始まる。境界づけられたコンテキストによって、各モデルを適用できる範囲が定義され、コンテキストマップによって、プロジェクトのコンテキストと、それらコンテキスト間の関係性を全体的に概観できるようになる。
>
> エリック・エバンスのドメイン駆動設計



### 境界づけられたコンテキスト(Bounded Context)

> 複数のモデルはどんな巨大なプロジェクトにも存在する。だが、別々のモデルに基づくコードが組み合わされると、ソフトウエアは、バグの温床となり、信頼できなくなり、理解しにくくなる。チームメンバ間のコミュニケーションは混乱を始める。あるモデルをどのコンテキストで適用すべきでないかについては、ほとんどの場合不明瞭である。
>
> エリック・エバンスのドメイン駆動設計

> モデルが適用されるコンテキストを明示的に定義すること。明示的な境界は、チーム編成、そのアプリケーションに特有の部分が持つ用途、コードベースやデータベーススキーマなどの物理的な表現などの観点から設定すること。ただし、境界の外部の問題によって注意を逸らされたり、混乱させられたりするのを避けるｋと。
>
> エリック・エバンスのドメイン駆動設計

> 別々のモデルの要素が組合わせると、２種類の問題が生じる。それが、重複した概念と偽同族語(false cognate)だ。
>
> エリック・エバンスのドメイン駆動設計

### 継続的な統合(Continuous Integration)

> 多くの人々が同一の境界づけられたコンテキストで作業していると、モデルが分裂する傾向は強くなる。チームが大きければ大きいほど、問題も大きくなるが、３，４人ほどの少人数でも深刻な問題に直面することがある。しかし、システムをさらに小さいコンテキストに分割してしまうと、結局は有益なレベルで統合し、一貫させることができなくなる。
>
> エリック・エバンスのドメイン駆動設計

> 最も純粋なかたちのXPは、単一の境界づけられたコンテキスト内でモデルの整合性を維持するのに適している。
>
> エリック・エバンスのドメイン駆動設計

> すべてのコードと他の実装成果物を頻繁にマージさせるプロセスを策定すること。その際、分裂に対して素早く警告する自動化されたテストも一緒に用いること。ユビキタス言語の執拗な鍛錬を絶え間なく行い、モデルに対する共有された見方を練り上げること。概念は、別々の人の頭の中で進化して行くからだ。
>
> エリック・エバンスのドメイン駆動設計

### コンテキストマップ(Context Map)

> 境界づけられたコンテキスト間でもコードの再利用は、危険なので避けるべきである。
>
> エリック・エバンスのドメイン駆動設計

> プロジェクトで機能しているモデルをそれぞれ識別して、その境界付けられたコンテキストを定義すること。これには、非オブジェクト指向のサブシステムにあたる暗黙的なモデルも含まれる。境界づけられたコンテキストそれぞれに名前をつけ、その名前をユビキタス言語の一部にすること。
> モデル同士の接点を記述して、あらゆるコミュニケーションで必要となる明示的な変換について概略を延べ、共有するものがあれば強調すること。
> まず、「現在存在する」領域の地図を書くこと。変換にはその後で取りかかること。
>
> エリック・エバンスのドメイン駆動設計

> ここでの重要なポイントは２つしかない。
>
> 1. 境界づけられたコンテキストには、それについて話ができるように、名前がなければならない。その名前は、チームのユビキタス言語に加えなければならない。
>
> 2. 全員がどこに境界があるかを知っていなければならず、コードのどの一部をとっても、あるいはどんな状況にあっても、そのコンテキストを認識できなければならない。
>
> エリック・エバンスのドメイン駆動設計

### 共有カーネル(Shared Kernel)

### 顧客/供給者の開発チーム(Customer/Supplier Development Team)

### 適応者(Conformist)

### 腐敗防止層(Anticorruption Layer)

### 別々の道(Separate Ways)

### 公開ホストサービス(Open Host Service)

### 公表された言語(Published Language)

## 蒸留

### コアドメイン(Core Domain)

> モデルを煮詰めること。コアドメインを見つけて、それをサポートする大量のモデルやコードから容易に区別する手段を提供すること。最も価値のある特化した概念を浮き彫りにすること。コアは小さくすること。
> 最も才能がある人をコアドメインに割り当て、そうした区分に応じて採用すること。コアに対して力を尽くし、深いモデルを見つけ出し、システムのビジョンを実現するのに十分な、しなやかな設計を開発すること。それ以外の部分への投資は、蒸留したコアをどうサポートするかによって正当化すること。
>
> エリック・エバンスのドメイン駆動設計

### 汎用サブドメイン(Generic Subdomain)

> 設計中のプロジェクトにとって動機となっていない、高凝集のサブドメインを識別すること。そうしたサブドメインから汎用的なモデルを括り出して、別のモジュールに入れること。その中に特化した要素を一切残してはならない。
> 一旦分離したら、その部分に対して継続される開発の優先順位をコアドメインより下げ、その作業にコアとなる開発者を割り当てるのを避けること（そこから得られるドメインについての知識はほとんどないからだ）。このような汎用サブドメインに対しては、既成製品による解決策や公表されているモデルの採用も検討すること。
>
> エリック・エバンスのドメイン駆動設計


> 汎用とは再利用可能という意味ではない
>
> エリック・エバンスのドメイン駆動設計


### ドメインビジョン声明文(Domain Vision Statement)

> コアドメインとそれがもたらす価値に関する簡潔な記述を作成すること（約1ページ）。これが、「価値の提議」（value proposition）である。
>
> エリック・エバンスのドメイン駆動設計

### 強調されたコア(Highlighted Core)

> 蒸留ドキュメントがコアドメインの本質を概説しているなら、それはモデルを変更する意義を示す、実用的な指標としての役割を果たす。モデルやコードの変更が蒸留ドキュメントに影響を与える場合には、他のチームメンバとの協議が必要である。変更したらチームメンバ全員に速やかに通知し、蒸留ドキュメントに含まれていない詳細に対する変更であれば、協議も通知もなしで統合することができ、他のメンバは作業の過程で気づくことになる。そうなれば、開発者はXPが提唱する完全な自律を手に入れることになる。
>
> エリック・エバンスのドメイン駆動設計

### 凝集されたメカニズム(Cohesive Mechanism)

### 隔離されたコア(Segregated Core)

### 抽象化されたコア(Abstracted Core)

> 深いモデルを生み出すブレイクスルーはどこで発生しても価値を生むが、プロジェクト全体の軌道を変えられるのは、それがコアドメインにおいて発生した時だけだ。
>
> エリック・エバンスのドメイン駆動設計


## 大規模な構造

> 「大規模な構造」は、システムをおおよその構造から議論し、理解できるようにするための言語である。
>
> エリック・エバンスのドメイン駆動設計

### 進化する秩序(Evolving Order)

### システムのメタファ(System Metaphor)

### 責務のレイヤ(Responsibility Layers)

### 知識レベル(Knowledge Level)

### 脱着可能なコンポーネントのフレームワーク(Pluggable Component Framework)

# 論理の基本を知っておこう

なぜ論理思考が必要なのか

1. 情緒に流されやすい判断や行動を防ぎ、自分の頭で考えて、「正しい結論を導く」ことができること。
1. 文化の同一性に頼らず、どの民族にも通用する、「正しいコミュニケーションができること」こと。
1. 「発想を助け、課題の検討・解決に役立つ」こと。
_
数学の基本
1. 右辺と左辺を等合で結ぶ
1. 計算は+-x/(加減剰余)のルールで演算すること
1. 掛け算や割り算を足し算、引き算より先にやること
1. カッコ内を先に計算すること
1. 計算ミスをしないこと

論理の基本
> １つのメッセージ（結論）は、必ず2つ以上のサブ・メッセージ（要因）でサポートされてるため、論理は、底辺に行くほど広いピラミッド状に組み上げられる。
>
> わかる。、使える「論理思考」の本　後正武

1. 論理の基本単位は、単語ではなく主語・述語で組み上げるメッセージである。
1. メッセージを組み上げる基本構造には「演繹」と「帰納」という2つの方法がある。
1. 上位のメッセージと、それをサポートする下位のサブ・メッセージは、結論と要因、あるいは総合と部分の関係にある（メッセージの上下関係）
1. 上位のメッセージを支える下位のメッセージは、それらを総合すると、モレや重複がないこと（水平関係）
1. 全体を支える最下部のメッセージは、事実、またはそれに近い疑いようのないメッセージ（蓋然性の高いメッセージ）であること


## 論理の基本構造とは？

Deduction(演繹)は、前提となる正しいメッセージ（一般論）がまずあり、それを個別の事象に適用して、正しい主張・答を引き出す方法で「一般論」から「個別論」へという構造になっている

Induction(帰納)は、たくさんの個別の事象や主張を集めて、より一般的に通用する共通のメッセージを導き出す方法で「個別論」から「一般論」へという構造になっている


## 演繹を使いこなそう!

### 「風鈴」はロジックではない

### 前提にはいろいろな種類がある

1. いつでも常に正しいと主張できる真理
1. 人間社会が決めた取り決め
1. その他の一般に用いられる前提

### 前提を疑ってかかる

### 前提は事実の裏付けを持って常に確かめていることが必要である

### 仮説を置いて考える

## 帰納を使いこなそう！

### 同質のものを帰納して共通項を見出す＜単純な帰納＞

### 異質のものを組み合わせて機能する＜複雑な帰納＞

### モレなく重複なく全てを網羅する

1. 足し算・引き算で考える
1. 掛け算で考える
1. 軸で考える
1. 枠組みを工夫する

### 枠組みで考える

# 論理と「論理的」について

> 高い論理性を身につけるとは、「結論」と「結論を支えるもの」の関係について正確な理解を獲得することなのです。
>
> 論理思考力を鍛える本 小野田博一

> 高い倫理性とは、結論と前提との関係の理解度が高く、理解している通りにそれを実践の場で使えることなのです。
>
> 論理思考力を鍛える本 小野田博一

## 論理の世界の用語

結論と前提の両方を含んだスティトメント(statement)をアーギュメント(argument)といいます。
「ロジック」（論理）は、結論と前提を繋ぐ無形のものです。この無形の部分はインファランス(inference)ともいいます。インファランスには2種類のものがあります。ディダクティブ・インファランス（deductive inference）とインダクティブ・インファランス（inductive inference）です。

前提から結論を導く思考のことをリーズニング（reasoning）といいます。

ディダクティブ・インファランスの評価は、valid/invalidで与えられます。validは「論理が正しい」の意味で、invalidは「論理が正しくない」の意味です。

インダクティブ・インファランスの評価は、strong/weakで与えられます。インダクティブ・インファランスは「たぶんどうだろうか」の推論なので、前提が正しくとも、得られた結論が100%確実に正しいと断言できません。

論理が正しいだけでなく、前提も（真実か否かの点から）正しい場合、評価はsoundで与えられます。

## 「ロジカル（論理的）」とは何か

> 「実生活の議論（のうち演繹）では、validであるだけでは十分ではなく、soundでなければならない」ということで、つまり、「前提は真実でなければならない」ということです。

## 批判的に読み、批判的に聞く

> 実生活の場において、読むとき、聞くときに行っている（行うべき）「批判的に読み、批判的に聞く」ための思考を、クリテティカル・シンキンキングと言います。

> 「実生活の場で、論理が正しいのか、前提は正しいのか、の2点を考える」とは言い換えると、「アーギュメントを鵜呑みにせず、アーギュメントの正しさを自力で考える」ことです。

## 「もっともらしさ」

> 実生活では、断言できないことがとてもたくさんあります。私たちが話したり書いたりする内容は、ほとんど断言できないことばかりです。そのため、「もっともらしさ」は実生活では大きな役割を果たす事になります。
> そして、クリティカル・シンキンキングは、「もっともらしさ」をあなた自身が検証する事なのです。

## 議論では、もっともらしさを高めるよう努力せよ

> 人を納得させるのは「真実」ではなく「真実らしさ」（もっともらしさ）です。

## 実生活の（理に適っていない）議論と省力

> 前提が明言されていない場合は、「それは言うまでもないこと」と考えられて通常、省力されている訳ですが、このような「当然正しい」と話し手・書き手が考えている事柄をー明言されていようといまいとー英語ではアサンプション(assumption)と言います。	

> 述べられた発言や記述がロジカルか否か（理に適っているか否か）を判断するためには、実際に述べられている部分について正しいか否かを判断するだけでなく、省力されている部分に対しても、正しいか否かを考えねばなりません。

> さらに、「述べてしまうとまずい部分（議論の弱点を自ら晒してしまう部分）」は、実生活の議論では必ず（意識的に、あるいは無意識に）省略されるので、なおさら、「省略されている部分を見落とさない」が大切なのです。

# クリティカル・シンキンキング

## クリティカル・シンキンキングのポイント

> なぜクリティカル・シンキングが必要なのかと言えば、それは、読み聞きした内容で「哀帝のいいように操られないため」「間違った判断を下さないため」です。

> クリティカル・シンキンキングのポイントは「むやみに信じないこと」です。つまり「信じるにたる根拠がないかぎり信じるな」です。

> 「自分自身の判断力を使って判断する」とは、「前提と結論のつながりの正しさや支えかたの強度」を自分自身で判断することで、具体的には、結論が正しく導き出されているか、しっかり支えられているか、および情報そのものの信頼性を考えることです。

## クリティカル・シンキンキングの手順

1. 結論を見つけよ
1. 支えている（つもりの）ものを見つけよ
1. 支えているつもりのものの信頼性を判断せよ
1. 支えているつもりのものが十分支えているかー支えている程度の十分さを調べよ
   1. 隠れているアサンプションがある？
	 1. アサンプションは正しい？

## クリティカル・シンキングの2つのコツ

1. 隠れているアサンプションが何かを考えよ
1. リーズニングのフォーム（形式）を考えよ

> 日常的には、多くの場合、発言が論理的か否かはアサンプションが正しいか否かにかかっています。

## アーギュメントの欠陥

- 早まった一般化
- 原因・結果の間違い
- 間違った類比
- 権威の間違った使用
- あいまいな表現
- 立証責任の転嫁
- 循環論法
- 聞き手・読み手の感情の利用
- 個人攻撃
- 矛盾
- 一般の意見の使用
- 統計の悪用（歪めた使用）

## もっとも強い反論

> もっとも強い反論は、もとの議論のアサンプションをアタックする議論です。